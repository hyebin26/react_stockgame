## :memo:프로젝트 소개

- 프로젝트의 이름은 StockGame입니다. 이름을 보면 알 수 있듯이 Stockgame은 제가 주식과 비트코인에 관심이 많아지면서 쉽게 즐길 수 있는 모의주식 게임을 만들고 싶어서 시작하게 되었습니다.
- 런닝맨이라는 TV프로그램에서 모의주식 에피소드를 참고하여 만들었습니다.

## :bell:사용한 기술

- React
- firebase
- gh-pages
- CSS modules
- redux-toolkit
- chartjs
- sweetalert

## :camera:주요 기능

### 1. 로그인

![login](https://user-images.githubusercontent.com/67263146/127346662-08516dbb-6700-4801-8b9d-e0661337a35d.png)

### :facepunch: 로그인을 firebase로 구현한 이유

1. 구글과 깃허브로 로그인을 하는 것이 간편하고 사용자도 많기 때문입니다.
2. firebase의 기능 중 firebase database를 사용하면 서버를 직접 배포하지 않아도 간편하게 database를 사용할 수 있고 firebase 로그인을 하면 database에서 간단하게 유저의 정보를 저장, 접근 할 수 있기 때문입니다.

### 2. 메인화면

![stock_main](https://user-images.githubusercontent.com/67263146/127346652-8ba52963-3686-4337-8653-7327d2b2db74.gif)

### :thumbsup: 메인화면은 로그인을 하게 되면 나오는 페이지로 header, Trading, Item 총 3가지 부분으로 나눌 수 있습니다.

1. header => mainpage로 가는 링크 부분 && 유저의 정보와 btn 두 개로 이루어진 부분 && navigation

- 두 번째 부분에서 첫 번째 Day부분은 총 7일까지 있는 게임의 날짜에서 현재의 날짜를 의미하고 마지막에 있는 돈은 현재 소유하고 있는 돈을 가르킵니다. 두 개의 버튼은 다음 날로 가는 버튼하나와 첫째 날과 돈이 리셋되는 버튼입니다.
- navigation부분은 navigation을 제외한 header의 부분들이 디스플레이의 종류에 상관없이 첫 화면에 직접적으로 보이는게 좋다고 생각했기 때문에 navigation부분을 화면의 크기가 작아지면 제작한 햄버거 메뉴로 대체하였습니다.

2. Trading => 차트부분 && 주식을 사고 팔 수 있는 부분

- 차트 부분은 chart.js로 구현하였으며 날짜가 바뀌면 DB에서 해당 주식의 가격을 slice(0,현재의날짜-1)로 받고 useEffect로 주식의 그래프를 변경하였습니다.
- 주식부분의 밑에 percent는 판매 관련 부분에는 현재 주식의 비율로, 구매 관련 부분은 현재 소유 돈 비율로 계산했습니다.
- 구매는 클릭한라벨, 가격, 갯수가 소유 주식 객체에 저장이 되고 날짜가 변하면 주식의 가격이 변동되게 구현했습니다.
- 판매는 소유주식 객체에 판매하려는 주식이 존재하고 소유한 갯수가 판매하려는 수보다 적거나 같을 시 판매가능하게 구현했습니다.

3. Item => 주식정보 && 힌트

- 실제 주식과는 연관성이 없고 직접 이름을 정한 주식입니다.
- 모든 주식의 처음 가격은 정해져있으며 다음 날을 누를 시 가격이 임의로 변동됩니다.
- 가격변동을 구현한 방법 => 우선 0 ~ 100 사이에 숫자를 뽑고 그리고 그 숫자가 0 ~ 22사이의 숫자이면 1 ~ 5사이의 가격변동 퍼센트가 리턴 그리고 23 ~ 45사이의 숫자를 뽑는다면 -(1 ~ 5)사이의 퍼센트가 리턴됩니다. 또한 0 ~ 100사이의 랜덤으로 수를 뽑는 것이 46 ~ 54사이면 6 ~ 10프로의 가격변동 퍼센트가 리턴됩니다. 이러한 방식으로 날마다 퍼센트를 구하고 전날의 가격에 퍼센트를 더하는 방식으로 가격변동을 구현했습니다. <a href="https://github.com/hyebin26/react_stockgame/blob/master/src/api/percent.js">https://github.com/hyebin26/react_stockgame/blob/master/src/api/percent.js</a>
- 메인화면에서 힌트를 클릭하면 haveHints라는 객체에 클릭한 라벨과 힌트의 내용이 저장이 됩니다.
- 힌트 => 힌트는 해당주식의 다음 날의 가격 변동을 보고 주식의 종류(IT, 엔터 등)에 따라 증가한 경우와 감소한 경우로 주식의 힌트를 미리 작성하고 1점 힌트는 다음 날의 정보를 예측하기 조금은 힘든 정보를 주고 3점 힌트는 직접적인 정보를 주는 방식으로 구현했습니다. <a href="https://github.com/hyebin26/react_stockgame/blob/master/src/api/hint.js">https://github.com/hyebin26/react_stockgame/blob/master/src/api/hint.js</a>

### 3.힌트저장소

![stock_hint](https://user-images.githubusercontent.com/67263146/127346637-25569bc0-1473-48c0-8d28-049d123b60bf.gif)

### :lollipop: 힌트저장소 => 힌트가 저장되는 곳

- 보유 힌트 갯수와 보유 힌트 포인트 그리고 소유한 힌트들을 볼 수 있는 곳입니다.
- 소유한 힌트는 DB에서 정보를 가져와서 내용과 클릭한 라벨의 정보를 보여줍니다.
- 가벼운 이미지를 주기위해 힌트를 포스트잇같이 생긴 메모장에 보여주도록 구현했고 다채롭게 하기 위해 주식의 종류마다 색을 다르게 주었습니다.

### 4. 투자내역

![stock_mypage](https://user-images.githubusercontent.com/67263146/127346658-489c6906-9b26-4568-92c9-33e6ae7dc331.gif)

### :information_desk_person: 소유한 주식과 돈, 그리고 소유한 주식의 정보들을 보여주기

- 현재 소유한 돈과 소유한 주식의 정보를 DB에서 가져와서 출력해주는 부분입니다.
- 도넛모양의 차트는 chart.js로 구현했으며, haveStocks라는 소유한 주식의 정보를 저장한 객체를 바탕으로 구현했습니다.
- 도넛 왼쪽에 있는 부분은 주식을 구매할 때의 총 매수가격 그리고 현재의 총 평가가격 두 가지를 알아야 하므로 spendMoney라는 객체를 만들고 당시 주식을 구매할 때의 가격을 저장하고 총 매수가격에 출력되는 방식으로 구현했습니다. 그리고 총 평가가격은 haveStocks라는 객체에서 현재 소유한 주식의 가격을 바탕으로 구현했습니다.
- 밑에 보유 주식 목록은 구매한 가격이 여러가지가 될 수 있으므로 매수 평균값으로 하였고 현재 주식의 가격을 바탕으로 퍼센트를 구현했습니다. 그리고 퍼센트가 +일 경우는 글을 빨간색 -일 경우는 파란색으로 나타냈습니다.

## 후기

### 1. :cowboy_hat_face:디자인 뼈대 그려보기

![stock_base](https://user-images.githubusercontent.com/67263146/127643453-bb00aa5a-0c0e-4a07-a6f8-3077c3c347b7.gif)

- 지난 프로젝트를 하면서 계속해서 웹의 디자인을 수정하면서 코딩을 진행하는 것이 시간의 낭비가 심하다고 생각해서 이번 프로젝트에는 프로토타이핑 툴 Oven을 적용했습니다.
- 위의 사진은 Oven을 이용해서 만든 프로젝트의 기초 디자인으로 이것을 참고하여 디자인 수정을 많이하지 않고 구현할 수 있었습니다.
- 배운적 없이 직접 그린 것이라 디테일 적으로는 많이 부족하지만 기초 뼈대를 정하고 하는 것이 디자인 관련 고민하는 시간을 줄이고 디자인을 참고하면서 코딩을 할 수 있어서 더 수월하게 프로젝트를 진행할 수 있었습니다.

### 2. :exclamation:상태 관리를 위해 redux toolkit 도입하기

- 지난 프로젝트를 진행할 때 웹이 커지면서 state를 컴포넌트에서 관리하는 것이 컴포넌트가 복잡해지고 상태를 유지,보수하기가 힘들다고 생각해서 redux toolkit을 도입하였습니다.
- redux-toolkit을 도입한 이유는 redux를 간편, 유연하게 쓸 수 있기 때문입니다.
- 아쉬운점: 상태관리를 module 내부에 있는 main.js에서 관리를 하고 있습니다. 하지만 힌트저장소, 메인페이지, 투자내역 페이지가 3개로 나뉘어져 있지만 상태 관리 모듈은 main.js파일 단 하나 밖에 없습니다.
- 힌트저장소에서는 메인페이지에서 얻을 수 있는 힌트를 관리하는 것이고 투자내역에서는 메인페이지에서 구입한 주식들을 관리하는 페이지입니다. 이처럼 서로가 상태를 공유해야 되기 때문에 하나의 모듈로 관리를 하고 있으나 모듈을 나누는 것이 유지, 보수하기 편할 것이라고 생각합니다.

## :link:링크

링크: <a href="https://hyebin26.github.io/react_stockgame/">https://hyebin26.github.io/react_stockgame/</a>
